IF(DB_ID('FoodSavers') IS NULL)
	CREATE DATABASE FoodSavers
GO

USE FoodSavers;
GO

IF OBJECT_ID ('Users') IS NULL
	CREATE TABLE Users
	(
		UserId INT NOT NULL IDENTITY(1,1),
		UserName NVARCHAR(100) NOT NULL,
		UserSurname NVARCHAR(100) NOT NULL,
		UserAge INT NOT NULL,
		UserEmail NVARCHAR(100) NOT NULL,
		UserPhone NVARCHAR(100) NOT NULL,
		UserAdress NVARCHAR(100) NOT NULL,
		CONSTRAINT PK_USER PRIMARY KEY (UserId),
		CONSTRAINT UK_UserEmail UNIQUE (UserEmail)
	)
GO


IF OBJECT_ID ('Food') IS NULL
	CREATE TABLE Food
	(
		FoodId INT NOT NULL IDENTITY(1,1),
		FoodName NVARCHAR(100) NOT NULL,
		FoodExpirationDate DATE NOT NULL,
		FoodType NVARCHAR(100) NOT NULL,
		FoodQuantity NVARCHAR(100) NOT NULL,
		UserId INT NOT NULL,
		CONSTRAINT PK_FOOD PRIMARY KEY (FoodId)
	)
GO

IF OBJECT_ID('FK_User_Food') IS NULL
	ALTER TABLE Food ADD CONSTRAINT FK_User_Food FOREIGN KEY (UserId) REFERENCES Users(UserId)
GO

